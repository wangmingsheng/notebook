module.exports = React.createClass({
    rowSelectedEvent: function(id) {
        this.state.select[id] = !this.state.select[id];
        this.setState({select: this.state.select});
    },
    updateSource: function(data) {
        this.setState({source: data});
    },
    updateSearch: function(value) {
        this.setState({search: value});
    },
    getInitialState: function() {
        return {select:{}, source: this.props.data || {}, search: ''}
    },
    render: function() {
        var liValue = [];
        var source = this.state.source;
        for(var key in source) {
            var className = '';
            if(this.state.select[key]) className = 'check';
            if(this.state.search.length > 0 && source[key].display_name.indexOf(this.state.search) == -1) continue;
            liValue.push(<li className={className} key={key} onTouchStart={this.rowSelectedEvent.bind(this,key)}>
                    <div className="avatar"><img src={source[key].avatar} alt=""/></div>
                    <div className="member_name"><span>{source[key].display_name}</span></div>
                </li>);
        }
        return <ul className="team_member_list">
            {liValue}
        </ul>
    }
});
