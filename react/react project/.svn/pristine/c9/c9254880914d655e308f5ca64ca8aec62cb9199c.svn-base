module.exports = React.createClass(
    {
        getDefaultProps: function() {
            return {play: false}
        },
        clickEvent: function(e) {
            this.state.play = !this.state.play;
            var dom = $(e.currentTarget).find('audio')[0];
            console.log(dom);
            console.log(this.state.play);
            if(this.state.play) {
                dom.currentTime = 0;
                dom.play();
                return this.setState(this.state);
            }
            dom.pause();
            this.setState(this.state);
        },
        audioEnded: function(e) {

        },
        getInitialState: function() {
            return {play: this.props.play}
        },
        render: function() {
            var name = ["voiceplay"];
            if(this.state.play) name.push('play');
            return  <div className={name.join(' ')} onClick={this.clickEvent}>
                <div className="small"></div>
                <div className="middle"></div>
                <div className="large"></div>
                <audio controls="controls" onEnded={this.audioEnded}>
                    {this.props.children}
                </audio>
            </div>
        }
    }
);