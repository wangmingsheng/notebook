var MemberSelectList = require('./MemberSelectList');
module.exports = React.createClass({
    searchEvent: function(e) {
        this.setState({search: $(e.currentTarget).val()});
    },
    componentWillReceiveProps: function(nProps) {
        if (nProps.position) {
            this.setHeader();
        }
    },
    shouldComponentUpdate: function(nProps, nState) {
        return this.state != nState;
    },
    setHeader: function() {
        var headObject = {title: '分配给', back: {text:'后退', event:this.props.callBack.back}};
        Interface.setHeader(headObject);
    },
    getInitialState: function() {
        if(this.props.position) this.setHeader();
        return {search: '', selected: $.extend({},this.props.selected) || {}};
    },
    render: function() {
        return 	<div className="add_member_page">
            <ul className="search_box" >
                <li><input type="text" placeholder="&#xe601; 搜索" onChange={this.searchEvent}/></li>
            </ul>
            <div className="scroll_box">
                <MemberSelectList search={this.state.search} selected={this.state.selected} type="1" callBack={this.props.callBack.completed} />
            </div>
        </div>
    }
});